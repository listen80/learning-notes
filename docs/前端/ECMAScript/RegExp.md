# RegExp

## 正则

### 普通字符

字母，数字，

### 元字符(匹配一个字符)

从 string 过来的表示字符的方法  
\uFFFF  
\xFF

#### 带字母转义

\t 匹配一个制表符。等价于 \x09 和 \cI  
\n 匹配一个换行符。等价于 \x0a 和 \cJ  
\v 匹配一个垂直制表符。等价于 \x0b 和 \cK  
\f 匹配一个换页符。等价于 \x0c 和 \cL  
\r 匹配一个回车符。等价于 \x0d 和 \cM

#### 特殊转义

| 字符 | 描述                      |
| ---- | ------------------------- |
| \w   | 等价于[A-Za-z0-9_]        |
| \s   | 等价于[ \t\n\v\f\r]       |
| \d   | 等价于[0-9]               |
| .    | 等价于[^\n\r\u2028\u2029] |

#### 多字符集合[]

[abc]匹配 a 或 b 或 c

### 定位符(匹配一个位置)

| 表达式 | 作用                                                         |
| ------ | ------------------------------------------------------------ |
| ^      | 与字符串开始的地方匹配，不匹配任何字符                       |
| \$     | 与字符串结束的地方匹配，不匹配任何字符                       |
| \b     | 匹配一个单词边界，也就是单词和空格之间的位置，不匹配任何字符 |

### 限定符(匹配多少次))

| 表达式 | 作用                                  |
| ------ | ------------------------------------- |
| {n}    | 表达式重复 n 次                       |
| {m,n}  | 表达式至少重复 m 次，最多重复 n 次    |
| {m,}   | 表达式至少重复 m 次                   |
| ?      | 匹配表达式 0 次或者 1 次              |
| +      | 表达式至少出现 1 次，相当于 {1,}      |
| \*     | 表达式不出现或出现任意次，相当于 {0,} |

`贪婪与非贪婪`
限定符后加?表示非贪婪

### 捕获

() 标记一个子表达式的开始和结束位置。要匹配小括号，请使用 "\(" 和 "\)"

### 或

左右两边表达式之间 "或" 关系。匹配 "|" 本身，请使用 "\|"

## 反向引用

\1 \2 \3 如此

```js
/(\w)\1/.exec("regexp yinyong oo");
```

## 环视(零宽度断言、预搜索)

```js
// 正向肯定环视 匹配index是3的位置，而不是位置为0的元素1
"123122".match(/1(?=22)/); // ["1", index: 3, input: "123122", groups: undefined]

// 否定环视
"123122".match(/1(?!22)/); // ["1", index: 0, input: "123122", groups: undefined]
"123122".match(/1(?!23)/); // ["3", index: 0, input: "123122", groups: undefined]
```

## i,g,m

### ignore case

无视大小写

### g

全部匹配，会将正则匹配到的所有的，非$1, $2
String.prototype.replace 不会产生匹配结果变化

### m

换行

## 问题

```js
// 多个重复定位符
/^^^^^hehe$$$$$$$$$$/.exec("hehe"); // ["hehe", index: 0, input: "hehe", groups: undefined]

// 反向匹配
/(\w\1\1\1\1)/.exec("what"); // ["w", "w", index: 0, input: "what", groups: undefined]
// 上面应该报错才合理
/(\w)/.exec("what"); // ["w", "w", index: 0, input: "what", groups: undefined]
```

## 范例

```js
var str = "(Is is the cost of of gasoline going up up";
var patt1 = /\b([a-z]+) \1\b/gi;
console.log(str.match(patt1)); // ["Is is", "of of", "up up"]
```

```js
// 中文
/[\u4e00-\u9fa5]+/.exec("正则"); // ["正则", index: 0, input: "正则", groups: undefined]
```

[参考链接](http://www.regexlab.com/zh/regref.htm)
